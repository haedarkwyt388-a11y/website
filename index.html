<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Elyas Vault</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box;font-family:Arial}

body{
  margin:0;
  min-height:100vh;
  background:linear-gradient(135deg,#8E2DE2,#4A00E0);
  display:flex;
  justify-content:center;
  align-items:flex-start;
  padding-top:80px;
  color:#fff;
}

.header{
  position:fixed;
  top:20px;
  left:20px;
  font-size:24px;
  font-weight:bold;
}

.card{
  width:95%;
  max-width:720px;
  background:rgba(255,255,255,.15);
  backdrop-filter:blur(12px);
  border-radius:25px;
  padding:20px;
}

textarea,input,button{
  width:100%;
  padding:12px;
  margin:8px 0;
  border:none;
  border-radius:12px;
}

button{
  background:#00D2FF;
  color:#000;
  font-weight:bold;
  cursor:pointer;
}

.items{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(140px,1fr));
  gap:15px;
  margin-top:15px;
}

.item{
  background:#fff;
  color:#000;
  border-radius:15px;
  padding:8px;
  position:relative;
  animation:pop .3s ease;
}

@keyframes pop{
  from{transform:scale(.8);opacity:0}
  to{transform:scale(1);opacity:1}
}

.item img,.item video{
  width:100%;
  border-radius:10px;
  cursor:pointer;
}

.label{
  text-align:center;
  font-size:13px;
  margin-top:5px;
  color:#555;
}

.delete{
  position:absolute;
  top:5px;
  right:8px;
  cursor:pointer;
}

.lock{
  text-align:center;
  font-size:30px;
  cursor:pointer;
  margin:20px 0;
}

/* Image Viewer */
.viewer{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.8);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:999;
}
.viewer img{
  max-width:90%;
  max-height:90%;
  border-radius:15px;
}
</style>
</head>

<body>

<div class="header">Elyas Vault</div>

<div class="card">
  <textarea id="note" placeholder="Write text..."></textarea>
  <button onclick="saveText()">Save Text</button>

  <input type="file" id="file" multiple accept="image/*,video/*">

  <div class="items" id="items"></div>
</div>

<div class="viewer" id="viewer" onclick="this.style.display='none'">
  <img id="viewerImg">
</div>

<script>
const itemsBox=document.getElementById("items");

/* Save Text */
function saveText(){
  const txt=note.value.trim();
  if(!txt)return alert("Empty text");
  const data=JSON.parse(localStorage.getItem("vault")||"[]");
  data.push({type:"text",content:txt});
  localStorage.setItem("vault",JSON.stringify(data));
  note.value="";
  load();
}

/* Save Files */
file.onchange=()=>{
  [...file.files].forEach(f=>{
    const pwd=prompt("Set password");
    if(!pwd)return;
    const r=new FileReader();
    r.onload=()=>{
      const data=JSON.parse(localStorage.getItem("vault")||"[]");
      data.push({type:f.type,src:r.result,password:pwd});
      localStorage.setItem("vault",JSON.stringify(data));
      load();
    };
    r.readAsDataURL(f);
  });
};

/* Load Vault */
function load(){
  itemsBox.innerHTML="";
  const data=JSON.parse(localStorage.getItem("vault")||"[]");
  data.forEach((it,i)=>{
    const d=document.createElement("div");
    d.className="item";

    if(it.type==="text"){
      d.innerHTML=`<div class="delete" onclick="del(${i})">‚ùå</div>
      <p>${it.content}</p>`;
    }else{
      d.innerHTML=`<div class="delete" onclick="del(${i})">‚ùå</div>
      <div class="lock" onclick="unlock(${i})">üîí</div>
      <div class="label">${it.type.startsWith("video")?"Video":"Image"}</div>`;
    }
    itemsBox.appendChild(d);
  });
}

/* Unlock */
function unlock(i){
  const data=JSON.parse(localStorage.getItem("vault"));
  const pwd=prompt("Enter password");
  if(pwd!==data[i].password)return alert("Wrong password");

  const d=document.createElement("div");
  d.className="item";

  if(data[i].type.startsWith("video")){
    d.innerHTML=`<video controls src="${data[i].src}"></video>
    <div class="label">Video</div>`;
  }else{
    d.innerHTML=`<img src="${data[i].src}" onclick="zoom(this.src)">
    <div class="label">Image</div>`;
  }
  itemsBox.replaceChild(d,itemsBox.children[i]);
}

/* Zoom Image */
function zoom(src){
  viewerImg.src=src;
  viewer.style.display="flex";
}

/* Delete */
function del(i){
  if(!confirm("Delete?"))return;
  const data=JSON.parse(localStorage.getItem
