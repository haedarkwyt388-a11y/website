<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Elyas Vault</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{
  box-sizing:border-box;
  font-family:system-ui, sans-serif;
}
body{
  margin:0;
  background:#000;
  color:#fff;
}

/* Header */
header{
  padding:15px;
  font-size:22px;
  font-weight:bold;
  background:linear-gradient(90deg,#a855f7,#22d3ee);
  -webkit-background-clip:text;
  color:transparent;
}

/* Grid like Instagram */
#grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:2px;
}

/* Item */
.item{
  position:relative;
  aspect-ratio:1/1;
  overflow:hidden;
  background:#111;
}
.item img,
.item video{
  width:100%;
  height:100%;
  object-fit:cover;
}

/* Label under image/video */
.label{
  position:absolute;
  bottom:0;
  left:0;
  width:100%;
  padding:4px 0;
  font-size:12px;
  text-align:center;
  background:rgba(0,0,0,.6);
  backdrop-filter:blur(6px);
  color:#a855f7;
  letter-spacing:1px;
}

/* Icons */
.icons{
  position:absolute;
  top:6px;
  right:6px;
  display:flex;
  gap:6px;
}
.icons div{
  background:rgba(0,0,0,.6);
  padding:4px;
  border-radius:50%;
  cursor:pointer;
  font-size:14px;
}

/* Locked */
.locked{
  width:100%;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:32px;
}

/* Floating add button */
#addBtn{
  position:fixed;
  bottom:20px;
  right:20px;
  width:60px;
  height:60px;
  border-radius:50%;
  border:none;
  font-size:30px;
  color:#000;
  background:linear-gradient(135deg,#a855f7,#22d3ee);
}
</style>
</head>

<body>

<header>Elyas Vault</header>

<div id="grid"></div>

<input type="file" id="fileInput" accept="image/*,video/*" hidden>
<button id="addBtn">+</button>

<script>
const grid = document.getElementById("grid");
const fileInput = document.getElementById("fileInput");

/* Load items */
function load(){
  grid.innerHTML = "";
  const data = JSON.parse(localStorage.getItem("vault") || "[]");

  data.forEach((item,i)=>{
    const div = document.createElement("div");
    div.className = "item";

    if(item.locked){
      div.innerHTML = `
        <div class="locked">üîí</div>
        <div class="label">${item.type.startsWith("video") ? "Video" : "Image"}</div>
        <div class="icons">
          <div onclick="unlock(${i})">üîì</div>
          <div onclick="del(${i})">‚ùå</div>
        </div>
      `;
    }else{
      div.innerHTML = `
        ${item.type.startsWith("video")
          ? `<video src="${item.src}" muted></video>`
          : `<img src="${item.src}">`
        }
        <div class="label">${item.type.startsWith("video") ? "Video" : "Image"}</div>
        <div class="icons">
          <div onclick="del(${i})">‚ùå</div>
        </div>
      `;
    }
    grid.appendChild(div);
  });
}

/* Add file */
document.getElementById("addBtn").onclick = ()=> fileInput.click();

fileInput.onchange = ()=>{
  const file = fileInput.files[0];
  if(!file) return;

  const reader = new FileReader();
  reader.onload = ()=>{
    const data = JSON.parse(localStorage.getItem("vault") || "[]");
    data.push({
      src: reader.result,
      type: file.type,
      locked: true,
      password: prompt("Set password") || ""
    });
    localStorage.setItem("vault", JSON.stringify(data));
    load();
  };
  reader.readAsDataURL(file);
};

/* Unlock */
function unlock(i){
  const data = JSON.parse(localStorage.getItem("vault"));
  const pwd = prompt("Enter password");
  if(pwd !== data[i].password) return alert("Wrong password");
  data[i].locked = false;
  localStorage.setItem("vault", JSON.stringify(data));
  load();
}

/* Delete */
function del(i){
  if(!confirm("Delete item?")) return;
  const data = JSON.parse(localStorage.getItem("vault"));
  data.splice(i,1);
  localStorage.setItem("vault", JSON.stringify(data));
  load();
}

load();
</script>

</body>
</html>
