= `<div class="delete" onclick="del(${i})">‚ùå</div><div class="lock" onclick="unlock(${i})">üîí</div>`;
    }
    itemsBox.appendChild(div);
  });
}

// Unlock a file
function unlock(i){
  const data = JSON.parse(localStorage.getItem("vault"));
  const pwd = prompt("Enter password");

  if (pwd !== data[i].password) return alert("Wrong password");

  // Play unlock sound
  sound.play();

  // Replace locked content with the actual content
  const div = document.createElement("div");
  div.className = "item";
  div.innerHTML = data[i].type.startsWith("video")
    ? `<video controls src="${data[i].src}"></video>`
    : `<img src="${data[i].src}">`;

  itemsBox.replaceChild(div, itemsBox.children[i]);
}

// Delete an item from the vault
function del(i){
  if (!confirm("Are you sure you want to delete this item?")) return;

  const data = JSON.parse(localStorage.getItem("vault"));
  data.splice(i, 1);
  localStorage.setItem("vault", JSON.stringify(data));
  load();
}

// Load saved items on page load
load();

</script>

</body>
</html>
