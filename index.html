<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>3D Auth Pro</title>

<style>
*{
    box-sizing:border-box;
    font-family:Segoe UI,sans-serif;
}

body{
    margin:0;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background:linear-gradient(135deg,#00ffcc,#7f00ff);
    perspective:1500px;
    overflow:hidden;
}

.page{
    width:350px;
    padding:30px;
    border-radius:30px;
    background:rgba(0,0,0,0.35);
    backdrop-filter:blur(14px);
    box-shadow:
        0 30px 80px rgba(0,0,0,.7),
        inset 0 0 30px rgba(255,255,255,.05);
    transform-style:preserve-3d;
    transition:all .8s ease;
    position:absolute;
}

.hidden{
    opacity:0;
    pointer-events:none;
    transform:rotateY(90deg) translateZ(-300px);
}

h2{
    text-align:center;
    color:#00ffcc;
    margin-bottom:20px;
}

input{
    width:100%;
    padding:12px;
    margin-bottom:12px;
    border-radius:12px;
    border:none;
    outline:none;
}

button{
    width:100%;
    padding:12px;
    border-radius:14px;
    border:none;
    background:linear-gradient(135deg,#00ff00,#00ffaa);
    font-weight:bold;
    cursor:pointer;
}

.switch{
    margin-top:15px;
    text-align:center;
    color:white;
    cursor:pointer;
    font-size:14px;
}

img{
    width:90px;
    height:90px;
    border-radius:50%;
    display:block;
    margin:10px auto;
    object-fit:cover;
}

.dashboard h1{
    color:white;
    text-align:center;
}

.dashboard p{
    color:#00ffcc;
    text-align:center;
}
</style>
</head>

<body>

<div class="page" id="register">
    <h2>Register</h2>
    <input id="rUser" placeholder="Username">
    <input id="rPass" type="number" placeholder="Password">
    <input id="rEmail" placeholder="Email">
    <input id="rImg" type="file" accept="image/*">
    <button onclick="register()">Create</button>
    <div class="switch" onclick="showLogin()">Login</div>
</div>

<div class="page hidden" id="login">
    <h2>Login</h2>
    <input id="lUser" placeholder="Username">
    <input id="lPass" type="number" placeholder="Password">
    <button onclick="login()">Enter</button>
    <div class="switch" onclick="showRegister()">Register</div>
</div>

<div class="page hidden dashboard" id="dash">
    <img id="dImg">
    <h1 id="dUser"></h1>
    <p id="dEmail"></p>
    <button onclick="logout()">Logout</button>
</div>

<script>
// Page switching
function showLogin(){
    register.classList.add("hidden");
    login.classList.remove("hidden");
}
function showRegister(){
    login.classList.add("hidden");
    register.classList.remove("hidden");
}

// Register
function register(){
    const u=rUser.value,p=rPass.value,e=rEmail.value,f=rImg.files[0];
    if(!u||!p||!e||!f)return alert("Fill all fields");

    const r=new FileReader();
    r.onload=()=>{
        localStorage.setItem("user_"+u,JSON.stringify({
            user:u,pass:p,email:e,img:r.result
        }));
        showLogin();
    }
    r.readAsDataURL(f);
}

// Login
function login(){
    const u=lUser.value,p=lPass.value;
    const data=localStorage.getItem("user_"+u);
    if(!data)return alert("User not found");
    const d=JSON.parse(data);
    if(d.pass!==p)return alert("Wrong password");

    dUser.innerText=d.user;
    dEmail.innerText=d.email;
    dImg.src=d.img;

    login.classList.add("hidden");
    dash.classList.remove("hidden");
}

function logout(){
    dash.classList.add("hidden");
    login.classList.remove("hidden");
}

// 3D Mouse movement
document.querySelectorAll('.page').forEach(card=>{
    card.addEventListener('mousemove',e=>{
        const r=card.getBoundingClientRect();
        const x=e.clientX-r.left;
        const y=e.clientY-r.top;
        const cx=r.width/2;
        const cy=r.height/2;
        const rx=(y-cy)/20;
        const ry=(x-cx)/20;
        card.style.transform=`rotateX(${-rx}deg) rotateY(${ry}deg)`;
    });
    card.addEventListener('mouseleave',()=>{
        card.style.transform='rotateX(0) rotateY(0)';
    });
});
</script>

</body>
</html>
